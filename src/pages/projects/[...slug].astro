---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getEntry } from "astro:content";

const { slug } = Astro.params;
if (slug === undefined) throw new Error("Slug is required");

const entry = await getEntry("projects", slug);
if (entry === undefined) return Astro.redirect("/404");

const { Content } = await entry.render();

const base_url = import.meta.env.BASE_URL;
---

<BaseLayout title={`Projects | ${entry.data.title}`}>
    <img
        src={`${base_url}/${entry.data.cover}`}
        alt="Cover"
        class="block rounded-lg"
    />
    <Content />
</BaseLayout>

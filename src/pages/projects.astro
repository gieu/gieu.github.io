---
import { getCollection } from "astro:content";

import BaseLayout from "../layouts/BaseLayout.astro";

const allProjects = await getCollection("projects");
const base_url = import.meta.env.BASE_URL;
---

<BaseLayout title="Proyectos">
    <h1 class="text-3xl font-bold">Proyectos</h1>

    {
        allProjects.map((project) => (
            <a href={`${base_url}/projects/${project.slug}`}>
                <img
                    src={`${base_url}/${project.data.cover}`}
                    alt="Cover"
                    class="block rounded-lg"
                />
                {project.data.title}
            </a>
        ))
    }
</BaseLayout>
